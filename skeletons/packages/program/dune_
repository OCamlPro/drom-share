; generated by drom from package skeleton 'driver'
(executable
  (name main)
  (public_name !{program-name})
  (package !{name})
  (libraries !{dune-libraries} !(package-dune-libraries))
  !{dune-stanzas}
  !(package-dune-stanzas)
  )

; Use `static-clibs` to specify static C libs (without lib prefix)
; and `static-macos-clibs` and `static-alpine-clibs` for system specific deps
(rule
  (targets linking.sexp)
  (action  (with-stdout-to %{targets}
    (run ./linking_flags.sh linking.sexp %{env:LINKING_MODE=dynamic} %{ocaml-config:system}  !(static-clibs)))))

!{package-dune-files}
(documentation
  (package !{package-name}))
!{package-dune-installs}
!(package-dune-trailer)
